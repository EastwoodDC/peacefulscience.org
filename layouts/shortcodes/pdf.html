{{ $pdf := .Get 0 }}
{{ $name := $pdf }}
{{ $mode := .Get 1 | default "IN_LINE" }}
{{ $id := "adobe-dc-view{{ .Ordinal }}" }}

{{- if not (fileExists (printf "static%s" $pdf )) -}}
  {{- warnf "MISSING.PDF:\t%s\t%s" .Parent.File.Path $pdf -}}
{{- end -}}

<div id="{{ $id }}" class="aside-xl-wide"></div>
<script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
<script type="text/javascript">
	document.addEventListener("adobe_dc_view_sdk.ready", function(){ 
		var adobeDCView = new AdobeDC.View({clientId: "8592deeb02924f34b4a68cab9fe6794c", divId: "{{ $id }}"});
		adobeDCView.previewFile({
			content:{location: {url: "{{ $pdf }}"}},
			metaData:{fileName: "{{ $name }}"}
		}, {embedMode: "{{ $mode }}"});
	});
</script>